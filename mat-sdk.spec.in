Buildroot:      @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/@CPACK_PACKAGE_FILE_NAME@
Summary:        Microsoft Applications Telemetry C++ SDK for Linux
Name:           @CPACK_PACKAGE_NAME@
Version:        @CPACK_PACKAGE_VERSION@
Release:        @CPACK_PACKAGE_RELEASE@
License:        MIT
Group:          Development/Tools/Other
Vendor:         @CPACK_PACKAGE_VENDOR@
Prefix:         @CPACK_PACKAGING_INSTALL_PREFIX@

%define _rpmdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM
%define _rpmfilename @CPACK_PACKAGE_FILE_NAME@.rpm
%define _unpackaged_files_terminate_build 0
%define _topdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM

%description
Microsoft Applications Telemetry C++ SDK

# This is a shortcutted spec file generated by CMake RPM generator
# we skip _install step because CPack does that for us.
# We do only save CPack installed tree in _prepr
# and then restore it in build.
%prep
mv $RPM_BUILD_ROOT @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/tmpBBroot

%install
if [ -e $RPM_BUILD_ROOT ];
then
  rm -Rf $RPM_BUILD_ROOT
fi
mv "@CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/tmpBBroot" $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
@CPACK_PACKAGING_INSTALL_PREFIX@/@LIB_INSTALL_DIR@/*
@CPACK_PACKAGING_INSTALL_PREFIX@/bin/my_project

%changelog
* Tue Jan 19 2021 Max Golovanov <maxgolov@microsoft.com> 3.5.19-0
* Mon Aug 3 2020 Max Golovanov <maxgolov@microsoft.com> 3.4.216-0
Diagnostic Data Viewer fixes for mobile platforms.
* Mon Jul 7 2020 Max Golovanov <maxgolov@microsoft.com> 3.4.195-0
Major improvements. Support for new targets and compilers.
* Mon Apr 22 2019 Max Golovanov <maxgolov@microsoft.com> 3.2.112-0
Memory leak fixes and other optimizations
* Wed Feb 26 2019 Max Golovanov <maxgolov@microsoft.com> 3.1.57-0
Package name changed to MAT - preparing for opensource release
* Thu Sep 6 2018 Max Golovanov <maxgolov@microsoft.com> 3.0.249-0
Package created
